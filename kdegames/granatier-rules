# Created by Mathias Kraus <k.hias@gmx.de>
#
# Granatier is a relatively new application, so run svn2git with the following option:
#    --resume-from=729612
#
# These rules are 100% copied from killbots-rules, so if you find a mistake here,
# please also fix it there.

# Create the granatier repository
create repository granatier
end repository

# Set the REPO and MODULE variables, used by some included rules
declare REPO=granatier
declare MODULE=kdegames/granatier

# Ignore some things that are known to cause trouble
include ../common-kde-ignores

# granatier used kapman as base, so start with kapman
# Get kapman sources from playground
match /trunk/playground/games/kapman/
	min revision 729613
	max revision 866361
	repository granatier
	branch master
end match

# Get kapman sources from kdereview
match /trunk/kdereview/kapman/
	min revision 866359
	max revision 871972
	repository granatier
	branch master
end match

# Get kapman sources from the kdegames module
match /trunk/KDE/kdegames/kapman/
	min revision 871970
	max revision 903021
	repository granatier
	branch master
end match

# Get granatier sources and docs from playground
match /trunk/playground/games/granatier/
	repository granatier
	branch master
end match
match /trunk/playground/games/doc/granatier/
	repository granatier
	branch master
	prefix doc/
end match

# Get granatier sources and docs from kdereview
match /trunk/kdereview/granatier/
	repository granatier
	branch master
end match
match /trunk/kdereview/doc/granatier/
	repository granatier
	branch master
	prefix doc/
end match

# Get granatier sources and docs from the kdegames module
match /trunk/KDE/kdegames/granatier/
	repository granatier
	branch master
end match
match /trunk/KDE/kdegames/doc/granatier/
	repository granatier
	branch master
	prefix doc/
end match

# Recurse into branch and tag changes that may have affected us
match /(branches|tags)/KDE/\d+[^/]+/(kdegames/)?$
	action recurse
end match

# Get sources and docs from branches
match /branches/KDE/(\d+)\.(\d+)/kdegames/granatier/
	repository granatier
	branch KDE/\1.\2
end match
match /branches/KDE/(\d+)\.(\d+)/kdegames/doc/granatier/
	repository granatier
	branch KDE/\1.\2
	prefix doc/
end match

# Get tags
match /tags/KDE/(\d+)\.(\d+)/kdegames/granatier/
	repository granatier
	branch refs/tags/v\1.\2.0
	annotated true
end match
match /tags/KDE/(\d+)\.(\d+)\.(\d+)/kdegames/granatier/
	repository granatier
	branch refs/tags/v\1.\2.\3
	annotated true
end match

# Some tag stuff
include ../common-kde-tags-rules

# Ignore everything else
match /
end match
