#
# Created by Raphael Kubo da Costa <kubito@gmail.com>
#

declare APPLICATION=ark
declare REPOSITORY=KDE/kdeutils/ark

create repository ${REPOSITORY}
end repository

include common-ignores
include common-branch-rules
include common-recursion-rules
include common-doc-rules

# r672751 was exported to git as deleting everything, although only
# some files are deleted in SVN.
match /branches/work/libarchive-based-ark/$
  action recurse
end match

# /trunk/KDE/kdeutils/ark/ was svn rm'ed from trunk in r461558, and
# /branches/KDE/3.5/kdeutils/ark/ was svn cp'ed into trunk in r461559.
# This rule keeps some commits which would normally be thrown away
# into a separate branch.
match /trunk/(KDE/)?kdeutils/ark/
  repository ${REPOSITORY}
  branch dead-trunk-1
  max revision 461557 # one before deletion
end match

# /trunk/KDE/kdeutils/ark/ was svn rm'ed from trunk in r692401, and
# /branches/work/libarchive-based-ark/ark/ was svn cp'ed into trunk in
# r694732.  This rule keeps some commits which would normally be
# thrown away into a separate branch.
match /trunk/(KDE/)?kdeutils/ark/
  repository ${REPOSITORY}
  branch dead-trunk-2
  max revision 692400 # one before deletion
end match

# Ark starts its life as KZip
match /trunk/kdeutils/kzip/
  repository ${REPOSITORY}
  branch kzip
  max revision 12097 # one before deletion
end match

match /trunk/(KDE/)?kdeutils/ark/
  repository ${REPOSITORY}
  branch master
end match

match /branches/work/libarchive-based-ark/ark/
  repository ${REPOSITORY}
  branch work/libarchive-based-ark
  min revision 672750
  max revision 694571
end match

match /branches/work/~rakuco/ark-kerfuffle-rework/
  repository ${REPOSITORY}
  branch work/kerfuffle-rework
end match

##### Ignore everything else #####
match /
end match
